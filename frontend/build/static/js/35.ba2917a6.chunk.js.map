{"version":3,"sources":["pages/other/MyOrders.js"],"names":["connect","state","currency","currencyData","user","userData","location","addToast","useToasts","pathname","useState","Myorders","setMyorders","Products","setProducts","userId","CUST_ID","useHistory","useEffect","a","axios","get","data","appearance","autoDismiss","name","content","to","process","headerTop","className","length","map","items","index","key","Date","Id","wallet","parseInt","Total","Product","single","selectedimage","finalProductPrice","finalDiscountedPrice","result","find","item","id","ProductID","variation","color","image","offer","discountedPrice","price","discount","discountPrice","wholesaler","style","height","width","src","alt","size","type","value","quantity","readOnly","status","marginLeft","Address","Name","LastName","StreetAddress","State","TownCity","Pincode","Email","PhoneNumber","message"],"mappings":"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","file":"static/js/35.ba2917a6.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst MyOrders = ({ location, user }) => {\r\n  const { addToast } = useToasts();\r\n  const { pathname } = location;\r\n  const [Myorders, setMyorders] = useState([]);\r\n  const [Products, setProducts] = useState([]);\r\n  const userId = user?.CUST_ID;\r\n  const history = useHistory();\r\n\r\n  // useEffect(() => {\r\n  //   if (!user) {\r\n  //     history.push(\"/\");\r\n  //   }\r\n  // }, []);\r\n  useEffect(() => {\r\n    (async function () {\r\n      try {\r\n        const { data } = await axios.get(`/api/user/get-my-orders/${userId}`);\r\n        setMyorders(data);\r\n      } catch (error) {}\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      try {\r\n        const { data } = await axios.get(\"/api/user/view-my-orders-products\");\r\n        setProducts(data);\r\n      } catch (error) {\r\n        addToast(\"Somthing Went Wrong\", {\r\n          appearance: \"success\",\r\n          autoDismiss: true,\r\n        });\r\n      }\r\n    })();\r\n  }, []);\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Thepaaki | MyOrders</title>\r\n        <meta name=\"description\" content=\"Myorders page of thepaaki website\" />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        MyOrders\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"cart-main-area pt-90 pb-100\">\r\n          <div className=\"container\">\r\n            {Myorders && Myorders.length >= 1 && Products.length >= 1 ? (\r\n              <Fragment>\r\n                {Myorders.map((items, index) => {\r\n                  return (\r\n                    <>\r\n                      <p className=\"cart-page-title mt-4\" key={index}>\r\n                        ORDER DATE:{items.Date}\r\n                        <br />\r\n                        ORDER ID:{items.Id}\r\n                        <br />\r\n                        {items.wallet ? (\r\n                          <>\r\n                            AMOUNT :\r\n                            {parseInt(items?.Total) + parseInt(items.wallet)}\r\n                          </>\r\n                        ) : (\r\n                          <>AMOUNT:{items.Total}</>\r\n                        )}\r\n                        {items?.wallet && (\r\n                          <p>WALLET APPLY AMOUNT:{items.wallet}</p>\r\n                        )}\r\n                      </p>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                          <div className=\"table-content table-responsive cart-table-content\">\r\n                            <table>\r\n                              <thead>\r\n                                <tr>\r\n                                  <th>Image</th>\r\n                                  <th>Product Name</th>\r\n                                  <th>QTY</th>\r\n                                  <th>AMOUNT</th>\r\n                                  <th>TOTAL</th>\r\n                                  <th>STATUS</th>\r\n                                  {/* <th>action</th> */}\r\n                                </tr>\r\n                              </thead>\r\n                              {items?.Product.map((single, index) => {\r\n                                const result = Products.find(\r\n                                  (item) => item.id === single.ProductID\r\n                                );\r\n                                var selectedimage;\r\n\r\n                                result.variation.map((items) => {\r\n                                  if (items.color == single?.color) {\r\n                                    selectedimage = items.image;\r\n                                  }\r\n                                });\r\n\r\n                                var finalProductPrice;\r\n                                var finalDiscountedPrice;\r\n                                if (user.user == true) {\r\n                                  if (single?.offer) {\r\n                                    const discountedPrice =\r\n                                      (result?.price * single?.offer) / 100;\r\n                                    finalProductPrice = result?.price;\r\n                                    finalDiscountedPrice =\r\n                                      result?.price - discountedPrice;\r\n                                  } else if (result?.discount) {\r\n                                    const discountPrice =\r\n                                      (result?.price * result?.discount) / 100;\r\n                                    finalProductPrice = result?.price;\r\n                                    finalDiscountedPrice =\r\n                                      result?.price - discountPrice;\r\n                                  } else {\r\n                                    finalDiscountedPrice = result?.price;\r\n                                  }\r\n                                } else {\r\n                                  finalProductPrice = result?.price;\r\n                                  finalDiscountedPrice = result?.wholesaler;\r\n                                }\r\n\r\n                                return (\r\n                                  <tbody>\r\n                                    <tr>\r\n                                      <td className=\"product-thumbnail\">\r\n                                        <img\r\n                                          style={{\r\n                                            height: \"150px\",\r\n                                            width: \"120px\",\r\n                                          }}\r\n                                          className=\"img-fluid\"\r\n                                          src={selectedimage}\r\n                                          alt=\"\"\r\n                                        />\r\n                                      </td>\r\n\r\n                                      <td className=\"product-name\">\r\n                                        {result?.name}\r\n\r\n                                        <div className=\"cart-item-variation\">\r\n                                          <span>Color: {single?.color}</span>\r\n                                          <span>Size: {single?.size}</span>\r\n                                        </div>\r\n                                      </td>\r\n                                      <td className=\"product-price-cart\">\r\n                                        <input\r\n                                          className=\"cart-plus-minus-box\"\r\n                                          type=\"text\"\r\n                                          value={single?.quantity}\r\n                                          readOnly\r\n                                        />\r\n                                      </td>\r\n\r\n                                      <td className=\"product-price-cart\">\r\n                                        <Fragment>\r\n                                          {\" \"}\r\n                                          {finalProductPrice && (\r\n                                            <span className=\"amount old\">\r\n                                              {\"₹\" + finalProductPrice}\r\n                                            </span>\r\n                                          )}\r\n                                          <span className=\"amount\">\r\n                                            {\"₹\" + finalDiscountedPrice}\r\n                                          </span>\r\n                                        </Fragment>\r\n                                      </td>\r\n\r\n                                      <td className=\"product-quantity\">\r\n                                        <span className=\"amount\">\r\n                                          {\"₹\" +\r\n                                            single.quantity *\r\n                                              finalDiscountedPrice}\r\n                                        </span>\r\n                                      </td>\r\n                                      {items.status == \"Pending\" ? (\r\n                                        <td>\r\n                                          <a className=\"text-danger\">\r\n                                            {items.status}\r\n                                          </a>\r\n                                        </td>\r\n                                      ) : (\r\n                                        <td>\r\n                                          <a className=\"text-success\">\r\n                                            {items.status}\r\n                                          </a>\r\n                                        </td>\r\n                                      )}\r\n                                      {/* <td>\r\n                                        <a className=\"text-danger\">Cancell</a>\r\n                                      </td> */}\r\n                                    </tr>\r\n                                  </tbody>\r\n                                );\r\n                              })}\r\n                              <div\r\n                                className=\"row\"\r\n                                style={{ marginLeft: \"1rem\" }}\r\n                              >\r\n                                <div className=\"col-6\">\r\n                                  <b>TO:</b>\r\n                                  <br />\r\n                                  <p>\r\n                                    {items.Address?.Name +\r\n                                      \",\" +\r\n                                      items.Address?.LastName}\r\n                                    ,<br />\r\n                                    {items.Address?.StreetAddress},\r\n                                    {items.Address.State},\r\n                                    {items.Address?.TownCity},\r\n                                    {items.Address?.Pincode},<br />\r\n                                    {items.Address?.Email},<br />\r\n                                    {items.Address?.PhoneNumber},<br />\r\n                                    {items.Address?.message && (\r\n                                      <b>{items.Address?.message}</b>\r\n                                    )}\r\n                                  </p>\r\n                                </div>\r\n                              </div>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* <div className=\"row\">\r\n                        <div className=\"col-lg-12\">\r\n                          <div className=\"cart-shiping-update-wrapper\">\r\n                            <div className=\"cart-shiping-update\">\r\n                              <Link\r\n                                to={\r\n                                  process.env.PUBLIC_URL + \"/shop-grid-standard\"\r\n                                }\r\n                              >\r\n                                Continue Shopping\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div> */}\r\n                    </>\r\n                  );\r\n                })}\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cart\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No items found <br />{\" \"}\r\n                      <Link to={process.env.PUBLIC_URL + \"/shop-grid-standard\"}>\r\n                        Shop Now\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nMyOrders.propTypes = {\r\n  location: PropTypes.object,\r\n  user: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    currency: state.currencyData,\r\n    user: state.userData.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(MyOrders);\r\n"],"sourceRoot":""}