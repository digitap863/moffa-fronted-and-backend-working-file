(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[38],{791:function(e,a,t){"use strict";t.r(a);var n=t(497),r=t.n(n),s=t(498),c=t(0),o=t.n(c),l=t(504),i=t.n(l),u=t(17),m=t(105),p=t(150),b=t(529),d=t(528),g=t(500),v=t(502),E=t(561),f=t(148),h=t(737),O=t.n(h),T=t(65),x=t(149),j=t.n(x),k=t(153),P=t(45),N=t(151),w=t(106),y=t(155),D=t(152);a.default=Object(T.connect)((function(e){return{user:e.userData.user}}))((function(e){var a=e.location,t=e.user,n=Object(u.g)().phone,l=Object(f.useToasts)().addToast,h=a.pathname,T=Object(u.f)(),x=Object(E.a)(),S=x.register,I=x.handleSubmit,L=x.trigger,W=x.formState.errors;Object(c.useEffect)((function(){t&&T.push("/")}));var C=function(){var e=Object(s.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=14;break}return e.prev=1,e.next=4,j.a.get("/api/user/resent-otp");case 4:a=e.sent,a.data,l("Successfuly Sent",{appearance:"success",autoDismiss:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l("Somthing Went Wrong",{appearance:"error",autoDismiss:!0});case 12:e.next=25;break;case 14:return e.prev=14,e.next=17,j.a.post("/api/user/otpLogin",{phone:n});case 17:t=e.sent,t.data,l("Successfuly Sent",{appearance:"success",autoDismiss:!0}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),l("Somthing Went Wrong",{appearance:"error",autoDismiss:!0});case 25:case"end":return e.stop()}}),e,null,[[1,9],[14,22]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(r.a.mark((function e(a){var t,s,c,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.OTP,!n){e.next=18;break}return e.prev=2,e.next=5,j.a.post("/api/user/otpLogin/".concat(t));case 5:s=e.sent,c=s.data,Object(P.createStore)(k.a,Object(w.load)(),Object(D.composeWithDevTools)(Object(P.applyMiddleware)(N.a,Object(w.save)()))).dispatch(Object(y.b)(c)),window.location.reload(!1),l("logged in successfully",{appearance:"success",autoDismiss:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),l(e.t0.response.data,{appearance:"error",autoDismiss:!0});case 16:e.next=30;break;case 18:return e.prev=18,e.next=21,j.a.post("/api/user/register/".concat(t));case 21:o=e.sent,i=o.data,l(i,{appearance:"success",autoDismiss:!0}),T.push("/login-register"),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(18),l(e.t1.response.data,{appearance:"error",autoDismiss:!0});case 30:case"end":return e.stop()}}),e,null,[[2,13],[18,27]])})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(f.ToastProvider,null,o.a.createElement(c.Fragment,null,o.a.createElement(i.a,null,o.a.createElement("title",null,"Thepaaki | OTP"),o.a.createElement("meta",{name:"description",content:"OTP page of thepaaki website"})),o.a.createElement(p.BreadcrumbsItem,{to:"/"},"Home"),o.a.createElement(p.BreadcrumbsItem,{to:""+h},"OTP"),o.a.createElement(g.a,{headerTop:"visible"},o.a.createElement(v.a,null),o.a.createElement("div",{className:"login-register-area pt-100 pb-100"},o.a.createElement("div",{className:"container mt-5"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-7 col-md-12 ml-auto mr-auto"},o.a.createElement("div",{className:"login-register-wrapper"},o.a.createElement(b.a.Container,{defaultActiveKey:"otp"},o.a.createElement(d.a,{variant:"pills",className:"login-register-tab-list"},o.a.createElement(d.a.Item,null,o.a.createElement(d.a.Link,{eventKey:"otp"},o.a.createElement("h4",null,"OTP-VERIFICATION")))),o.a.createElement(b.a.Content,null,o.a.createElement(b.a.Pane,{eventKey:"otp"},o.a.createElement("div",{className:"login-form-container"},o.a.createElement("div",{className:"login-register-form"},o.a.createElement("form",{onSubmit:I(K)},o.a.createElement("input",Object.assign({autoComplete:"off",type:"phoneNumber",placeholder:"Enter 6 Digits OTP ",maxLength:"6"},S("OTP",{required:"Please Enter OTP",pattern:{value:/^[0-9]{1,6}$/,message:"Invalid OTP"}}),{onKeyUp:function(){L("OTP")}})),W.OTP&&o.a.createElement("small",{className:"text-danger"},W.OTP.message),o.a.createElement("div",{className:"button-box"},o.a.createElement("div",{className:"login-toggle-btn"},o.a.createElement(m.b,{to:"/"},o.a.createElement(O.a,{seconds:60,minutes:0,resend:C}))),o.a.createElement("button",{type:"submit"},o.a.createElement("span",null,"Login")))))))))))))))))}))}}]);
//# sourceMappingURL=38.aa0326ac.chunk.js.map