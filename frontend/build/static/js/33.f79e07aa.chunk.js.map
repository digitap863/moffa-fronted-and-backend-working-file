{"version":3,"sources":["pages/other/Cart.js"],"names":["connect","state","cartItems","cartData","currency","currencyData","user","userData","dispatch","addToCart","item","addToast","quantityCount","decreaseQuantity","deleteFromCart","deleteAllFromCart","location","useState","useToasts","pathname","cartTotalPrice","CartItemDelete","cartItem","a","userID","CUST_ID","Product","id","axios","post","data","singlePage","window","href","process","name","content","to","headerTop","className","length","map","key","selectedimage","offer","variation","items","color","selectedProductColor","image","size","finalProductPrice","finalDiscountedPrice","date","Date","toLocaleDateString","Deal","discountedPrice","getDiscountPrice","price","toFixed","discount","wholesaler","quantity","onClick","e","src","alt","selectedProductSize","type","value","readOnly","disabled","undefined","cartItemStock"],"mappings":"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","file":"static/js/33.f79e07aa.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { getDiscountPrice } from \"../../helpers/product\";\r\nimport {\r\n  decreaseQuantity,\r\n  deleteFromCart,\r\n  cartItemStock,\r\n  deleteAllFromCart,\r\n  addToCart,\r\n} from \"../../redux/actions/cartActions\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport axios from \"axios\";\r\n\r\nconst Cart = ({\r\n  location,\r\n  cartItems,\r\n  decreaseQuantity,\r\n  addToCart,\r\n  deleteFromCart,\r\n  deleteAllFromCart,\r\n  user,\r\n}) => {\r\n  const [quantityCount] = useState(1);\r\n  const { addToast } = useToasts();\r\n\r\n  const { pathname } = location;\r\n  let cartTotalPrice = 0;\r\n\r\n  const CartItemDelete = async (cartItem, addToast) => {\r\n    deleteFromCart(cartItem, addToast);\r\n    if (user) {\r\n      const userID = user.CUST_ID;\r\n      const Product = cartItem.id;\r\n      try {\r\n        const { data } = await axios.post(\"/api/user/dlete-cart-produts\", {\r\n          userID,\r\n          Product,\r\n        });\r\n      } catch (error) {}\r\n    }\r\n  };\r\n  const singlePage = (id) => {\r\n    window.location.href = `${process.env.PUBLIC_URL}/product/${id}`;\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Thepaaki | Cart</title>\r\n        <meta name=\"description\" content=\"Cart page of thepaaki website\" />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Cart\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"cart-main-area pt-90 pb-100\">\r\n          <div className=\"container\">\r\n            {cartItems && cartItems.length >= 1 ? (\r\n              <Fragment>\r\n                <h3 className=\"cart-page-title\">Your cart items</h3>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"table-content table-responsive cart-table-content\">\r\n                      <table>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Image</th>\r\n                            <th>Product Name</th>\r\n                            <th>Unit Price</th>\r\n                            <th>Qty</th>\r\n                            <th>Subtotal</th>\r\n                            <th>action</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cartItems.map((cartItem, key) => {\r\n                            var selectedimage;\r\n\r\n                            cartItem.variation.map((items) => {\r\n                              if (\r\n                                items.color == cartItem.selectedProductColor\r\n                              ) {\r\n                                selectedimage = items.image;\r\n                                if (!items.size[0]) {\r\n                                  deleteFromCart(cartItem, addToast);\r\n                                }\r\n                              }\r\n                            });\r\n                            var offer;\r\n                            const date = new Date().toLocaleDateString();\r\n                            if (cartItem?.Deal) {\r\n                              cartItem.Deal.map((items) => {\r\n                                if (items.date == date) {\r\n                                  offer = items.offer;\r\n                                }\r\n                                if (items.data < date) {\r\n                                  deleteFromCart(cartItem, addToast);\r\n                                }\r\n                              });\r\n                            }\r\n                            var finalProductPrice;\r\n                            var finalDiscountedPrice;\r\n                            var wholesaler = false;\r\n                            if (user?.user == true || user == null) {\r\n                              if (offer) {\r\n                                var discountedPrice = getDiscountPrice(\r\n                                  cartItem.price,\r\n                                  offer\r\n                                ).toFixed(0);\r\n                              } else if (cartItem.discount>0) {\r\n                                var discountedPrice = getDiscountPrice(\r\n                                  cartItem.price,\r\n                                  cartItem.discount\r\n                                ).toFixed(0);\r\n                              } else {\r\n                                var discountedPrice = null;\r\n                              }\r\n                              finalProductPrice = cartItem.price;\r\n                              finalDiscountedPrice = discountedPrice;\r\n                            } else {\r\n                              wholesaler = true;\r\n                              discountedPrice = cartItem.price;\r\n                              finalProductPrice = cartItem.price;\r\n                              finalDiscountedPrice = cartItem.wholesaler;\r\n                            }\r\n\r\n                            discountedPrice != null\r\n                              ? (cartTotalPrice +=\r\n                                  finalDiscountedPrice * cartItem.quantity)\r\n                              : (cartTotalPrice +=\r\n                                  finalProductPrice * cartItem.quantity);\r\n                            return (\r\n                              <tr key={key}>\r\n                                <td className=\"product-thumbnail\">\r\n                                  <Link\r\n                                    onClick={(e) => {\r\n                                      singlePage(cartItem.id);\r\n                                    }}\r\n                                  >\r\n                                    <img\r\n                                      className=\"img-fluid\"\r\n                                      src={selectedimage}\r\n                                      alt=\"\"\r\n                                    />\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <td className=\"product-name\">\r\n                                  <Link\r\n                                    onClick={(e) => {\r\n                                      singlePage(cartItem.id);\r\n                                    }}\r\n                                  >\r\n                                    {cartItem.name}\r\n                                  </Link>\r\n                                  {cartItem.selectedProductColor &&\r\n                                  cartItem.selectedProductSize ? (\r\n                                    <div className=\"cart-item-variation\">\r\n                                      <span>\r\n                                        Color: {cartItem.selectedProductColor}\r\n                                      </span>\r\n                                      <span>\r\n                                        Size: {cartItem.selectedProductSize}\r\n                                      </span>\r\n                                    </div>\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-price-cart\">\r\n                                  {discountedPrice !== null ? (\r\n                                    <Fragment>\r\n                                      <span className=\"amount old\">\r\n                                        {\"₹\" + finalProductPrice}\r\n                                      </span>\r\n                                      <span className=\"amount\">\r\n                                        {\"₹\" + finalDiscountedPrice}\r\n                                      </span>\r\n                                    </Fragment>\r\n                                  ) : (\r\n                                    <span className=\"amount\">\r\n                                      {\"₹\" + finalProductPrice}\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <button\r\n                                      className=\"dec qtybutton\"\r\n                                      onClick={() =>\r\n                                        decreaseQuantity(cartItem, addToast)\r\n                                      }\r\n                                    >\r\n                                      -\r\n                                    </button>\r\n                                    <input\r\n                                      className=\"cart-plus-minus-box\"\r\n                                      type=\"text\"\r\n                                      value={cartItem.quantity}\r\n                                      readOnly\r\n                                    />\r\n                                    <button\r\n                                      className=\"inc qtybutton\"\r\n                                      onClick={() =>\r\n                                        addToCart(\r\n                                          cartItem,\r\n                                          addToast,\r\n                                          quantityCount\r\n                                        )\r\n                                      }\r\n                                      disabled={\r\n                                        cartItem !== undefined &&\r\n                                        cartItem.quantity &&\r\n                                        cartItem.quantity >=\r\n                                          cartItemStock(\r\n                                            cartItem,\r\n                                            cartItem.selectedProductColor,\r\n                                            cartItem.selectedProductSize\r\n                                          )\r\n                                      }\r\n                                    >\r\n                                      +\r\n                                    </button>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-subtotal\">\r\n                                  {discountedPrice !== null\r\n                                    ? \"₹\" +\r\n                                      (\r\n                                        finalDiscountedPrice * cartItem.quantity\r\n                                      ).toFixed(2)\r\n                                    : \"₹\" +\r\n                                      (\r\n                                        finalProductPrice * cartItem.quantity\r\n                                      ).toFixed(2)}\r\n                                </td>\r\n\r\n                                <td className=\"product-remove\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      CartItemDelete(cartItem, addToast)\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fa fa-times\"></i>\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"cart-shiping-update-wrapper\">\r\n                      <div className=\"cart-shiping-update\">\r\n                        <Link\r\n                          to={process.env.PUBLIC_URL + \"/shop-grid-standard\"}\r\n                        >\r\n                          Continue Shopping\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"cart-clear\">\r\n                        <button onClick={() => deleteAllFromCart(addToast)}>\r\n                          Clear Shopping Cart\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row text-end\">\r\n                  {/* <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"cart-tax\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                          Estimate Shipping And Tax\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"tax-wrapper\">\r\n                        <p>\r\n                          Enter your destination to get a shipping estimate.\r\n                        </p>\r\n                        <div className=\"tax-select-wrapper\">\r\n                          <div className=\"tax-select\">\r\n                            <label>* Country</label>\r\n                            <select className=\"email s-email s-wid\">\r\n                              <option>Bangladesh</option>\r\n                              <option>Albania</option>\r\n                              <option>Åland Islands</option>\r\n                              <option>Afghanistan</option>\r\n                              <option>Belgium</option>\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"tax-select\">\r\n                            <label>* Region / State</label>\r\n                            <select className=\"email s-email s-wid\">\r\n                              <option>Bangladesh</option>\r\n                              <option>Albania</option>\r\n                              <option>Åland Islands</option>\r\n                              <option>Afghanistan</option>\r\n                              <option>Belgium</option>\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"tax-select\">\r\n                            <label>* Zip/Postal Code</label>\r\n                            <input type=\"text\" />\r\n                          </div>\r\n                          <button className=\"cart-btn-2\" type=\"submit\">\r\n                            Get A Quote\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div> */}\r\n\r\n                  {/* <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"discount-code-wrapper\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                          Use Coupon Code\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"discount-code\">\r\n                        <p>Enter your coupon code if you have one.</p>\r\n                        <form>\r\n                          <input type=\"text\" required name=\"name\" />\r\n                          <button className=\"cart-btn-2\" type=\"submit\">\r\n                            Apply Coupon\r\n                          </button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div> */}\r\n\r\n                  <div className=\"col-lg-4 col-md-12\">\r\n                    <div className=\"grand-totall\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gary-cart\">\r\n                          Cart Total\r\n                        </h4>\r\n                      </div>\r\n                      <h5>\r\n                        Total products{\" \"}\r\n                        <span>{\"₹\" + cartTotalPrice.toFixed(2)}</span>\r\n                      </h5>\r\n\r\n                      <h4 className=\"grand-totall-title\">\r\n                        Grand Total{\" \"}\r\n                        <span>{\"₹\" + cartTotalPrice.toFixed(2)}</span>\r\n                      </h4>\r\n                      <Link to={process.env.PUBLIC_URL + \"/checkout\"}>\r\n                        Proceed to Checkout\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cart\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No items found in cart <br />{\" \"}\r\n                      <Link to={process.env.PUBLIC_URL + \"/shop-grid-standard\"}>\r\n                        Shop Now\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nCart.propTypes = {\r\n  addToCart: PropTypes.func,\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  decreaseQuantity: PropTypes.func,\r\n  location: PropTypes.object,\r\n  deleteAllFromCart: PropTypes.func,\r\n  deleteFromCart: PropTypes.func,\r\n  user: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    currency: state.currencyData,\r\n    user: state.userData.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    decreaseQuantity: (item, addToast) => {\r\n      dispatch(decreaseQuantity(item, addToast));\r\n    },\r\n    deleteFromCart: (item, addToast) => {\r\n      dispatch(deleteFromCart(item, addToast));\r\n    },\r\n    deleteAllFromCart: (addToast) => {\r\n      dispatch(deleteAllFromCart(addToast));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"],"sourceRoot":""}